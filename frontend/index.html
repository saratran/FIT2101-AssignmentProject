<!doctype html>
<html>
<head>
    <title>DevAlarm</title>
    <script src="scripts/jquery-3.4.1.min.js"></script>
    <link rel="stylesheet" href="style.css" />
</head>
<body>
<div>
    <label for="inputOwner">Enter Github owner and repo:</label>
    <input type="text" id="inputOwner" value="patrickbrett" />
    <input type="text" id="inputRepo" value="BadTimer" />
    <button type="submit" onclick="loadRepositoryInfo()">Submit</button>
</div>
<div>
    <textarea id="jsonOutput" rows="30"></textarea>
</div>
<script>
    function loadRepositoryInfo() {
      // Get Github URL from page
      const owner = $("#inputOwner").val();
      const repo = $("#inputRepo").val();

      // Make fetch request to backend
      fetch(`http://localhost:3000/repo?owner=${owner}&repo=${repo}`).then(fetchRes => {
        fetchRes.json().then(fetchJson => {
          // Get reference to textarea
          $("#jsonOutput").text(JSON.stringify(fetchJson))
        })
      })
    }
</script>
</body>
</html>